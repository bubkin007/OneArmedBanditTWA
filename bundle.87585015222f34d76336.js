(()=>{var t={138:(t,e,o)=>{var n={"./bincoin_isometric_logo_3d.svg":850,"./bitcoin-btc-cryptocurrency-svgrepo-com.svg":74,"./death_star.svg":645,"./ethereum-crypto-cryptocurrency-svgrepo-com.svg":591,"./monero-crypto-cryptocurrency-coins-svgrepo-com.svg":715,"./ripple-xrp-cryptocurrency-svgrepo-com.svg":775,"./tether-crypto-cryptocurrency-svgrepo-com.svg":284,"./tie_ln.svg":103};function r(t){var e=s(t);return o(e)}function s(t){if(!o.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id=138},850:(t,e,o)=>{"use strict";t.exports=o.p+"assets/6da61fbcb5746a4b3d52.svg"},74:(t,e,o)=>{"use strict";t.exports=o.p+"assets/0064052ebf40d0d93631.svg"},645:(t,e,o)=>{"use strict";t.exports=o.p+"assets/3392ebef20e51148368e.svg"},591:(t,e,o)=>{"use strict";t.exports=o.p+"assets/2a73bb6c24200cde4f96.svg"},715:(t,e,o)=>{"use strict";t.exports=o.p+"assets/9946549dae4fc4c715ad.svg"},775:(t,e,o)=>{"use strict";t.exports=o.p+"assets/bb3f3bd2121708690d20.svg"},284:(t,e,o)=>{"use strict";t.exports=o.p+"assets/597a8178f1280ba07d43.svg"},103:(t,e,o)=>{"use strict";t.exports=o.p+"assets/7d600c80a7f5f31bc337.svg"}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,o),s.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{"use strict";function t(t){t&&spin.click()}const e={};class n{constructor(t=n.random()){this.name=t,e[t]?this.img=e[t].cloneNode():(this.img=new Image,this.img.src=o(138)(`./${t}.svg`),e[t]=this.img)}static preload(){n.symbols.forEach((t=>new n(t)))}static get symbols(){return["bincoin_isometric_logo_3d","bitcoin-btc-cryptocurrency-svgrepo-com","ethereum-crypto-cryptocurrency-svgrepo-com","monero-crypto-cryptocurrency-coins-svgrepo-com","ripple-xrp-cryptocurrency-svgrepo-com","tether-crypto-cryptocurrency-svgrepo-com"]}static random(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}}class r{constructor(t,e,o){this.reelContainer=t,this.idx=e,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{top:0,filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{top:`calc((${10*Math.floor(this.factor)} / 3) * -100% - (${10*Math.floor(this.factor)} * 3px))`,filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),o.forEach((t=>this.symbolContainer.appendChild(new n(t).img)))}get factor(){return 1+Math.pow(this.idx/2,2)}renderSymbols(t){const e=document.createDocumentFragment();for(let o=3;o<3+10*Math.floor(this.factor);o++){const r=new n(o>=10*Math.floor(this.factor)-2?t[o-10*Math.floor(this.factor)]:void 0);e.appendChild(r.img)}this.symbolContainer.appendChild(e)}spin(){if(!i.connected)return;const t=new Promise((t=>this.animation.onfinish=t)),e=new Promise((t=>setTimeout(t,1e3*this.factor)));return this.animation.cancel(),this.animation.play(),Promise.race([t,e]).then((()=>{"finished"!==this.animation.playState&&this.animation.finish();const t=this.symbolContainer.children.length-3;for(let e=0;e<t;e++)this.symbolContainer.firstChild.remove()}))}}const s={inverted:!0,onSpinStart:t=>{console.log("onSpinStart",t)},onSpinEnd:t=>{console.log("onSpinEnd",t)}};new class{constructor(t,e={}){function o(t,e,o){let n=[],r=0;for(let s=0;s<e;s++){let e=[];for(let n=0;n<o;n++)e.push(t[r%t.length]),r++;n.push(e)}return n}n.preload(),this.currentSymbols=o(n.symbols,5,3),this.nextSymbols=o(n.symbols,5,3),this.container=t,this.reels=Array.from(this.container.getElementsByClassName("reel")).map(((t,e)=>new r(t,e,this.currentSymbols[e]))),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",(()=>this.spin())),this.autoPlayCheckbox=document.getElementById("autoplay"),e.inverted&&this.container.classList.add("inverted"),this.config=e}spin(){return this.currentSymbols=this.nextSymbols,this.nextSymbols=[[n.random(),n.random(),n.random()],[n.random(),n.random(),n.random()],[n.random(),n.random(),n.random()],[n.random(),n.random(),n.random()],[n.random(),n.random(),n.random()]],this.onSpinStart(this.nextSymbols),Promise.all(this.reels.map((t=>(t.renderSymbols(this.nextSymbols[t.idx]),t.spin())))),this.onSpinEnd(this.nextSymbols)}onSpinStart(t){this.spinButton.disabled=!0,this.config.onSpinStart?.(t)}onSpinEnd(e){this.spinButton.disabled=!1,this.config.onSpinEnd?.(e),window.Telegram.WebApp.showConfirm("No win. Spin again?",t)}}(document.getElementById("slot"),s);let i=new TON_CONNECT_UI.TonConnectUI({manifestUrl:"https://bubkin007.github.io/bubkin007/tonconnect-manifest.json",buttonRootId:"spin"});(function(){const t=i.connectWallet();console.log(t)})().catch((t=>{console.error("Error connecting to wallet:",t)})),window.Telegram.WebApp.expand(),i.connected||(document.getElementById("spintext").hidden="true")})()})();