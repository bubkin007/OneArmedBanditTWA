(()=>{var t={206:(t,e,n)=>{var i={"./bnb.svg":590,"./btc.svg":273,"./ton.svg":11,"./trx.svg":462,"./usdt.svg":656};function s(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id=206},590:(t,e,n)=>{"use strict";t.exports=n.p+"icons/55d939f672e6821170c0.svg"},273:(t,e,n)=>{"use strict";t.exports=n.p+"icons/481e5be4ad6eb1f1873a.svg"},11:(t,e,n)=>{"use strict";t.exports=n.p+"icons/ce692b3b221542c606ab.svg"},462:(t,e,n)=>{"use strict";t.exports=n.p+"icons/49f187dfcf9168426f02.svg"},656:(t,e,n)=>{"use strict";t.exports=n.p+"icons/fed30a6160ac79ab0d2e.svg"}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=i[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{const t={};function e(t){const e=document.createElement("script");document.head.appendChild(e),e.src=t}e("https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"),e("https://telegram.org/js/telegram-web-app.js");const i=n(206);i.keys().map(i);let s=i.keys().map(i);function o(){return s[Math.floor(Math.random()*s.length)]}class r{constructor(e=o()){this.name=e,t[e]?this.img=t[e].cloneNode():(this.img=new Image,this.img.src=e,t[e]=this.img)}static preload(){s.forEach((t=>new r(t)))}}class a{constructor(t,e,n){this.reelContainer=t,this.idx=e,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{top:0,filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{top:`calc((${10*Math.floor(this.factor)} / 3) * -100% - (${10*Math.floor(this.factor)} * 3px))`,filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),n.forEach((t=>this.symbolContainer.appendChild(new r(t).img)))}get factor(){return 1+Math.pow(this.idx/2,2)}renderSymbols(t){const e=document.createDocumentFragment();for(let n=3;n<3+10*Math.floor(this.factor);n++){const i=new r(n>=10*Math.floor(this.factor)-2?t[n-10*Math.floor(this.factor)]:void 0);e.appendChild(i.img)}this.symbolContainer.appendChild(e)}spin(){const t=new Promise((t=>this.animation.onfinish=t)),e=new Promise((t=>setTimeout(t,1e3*this.factor)));return this.animation.cancel(),this.animation.play(),Promise.race([t,e]).then((()=>{"finished"!==this.animation.playState&&this.animation.finish();const t=this.symbolContainer.children.length-3;for(let e=0;e<t;e++)this.symbolContainer.firstChild.remove()}))}}const c={inverted:!0,onSpinStart:t=>console.log("onSpinStart",t),onSpinEnd:t=>console.log("onSpinEnd",t)};new class{constructor(t,e={}){r.preload(),this.currentSymbols=this.fillArrayWithSequentialSymbols(s,5,3),this.nextSymbols=this.fillArrayWithSequentialSymbols(s,5,3),this.container=t,this.reels=Array.from(this.container.getElementsByClassName("reel")).map(((t,e)=>new a(t,e,this.currentSymbols[e]))),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",(()=>this.spin())),this.autoPlayCheckbox=document.getElementById("autoplay"),e.inverted&&this.container.classList.add("inverted"),this.config=e}fillArrayWithSequentialSymbols(t,e,n){const i=[];let s=0;for(let o=0;o<e;o++){const e=[];for(let i=0;i<n;i++)e.push(t[s%t.length]),s++;i.push(e)}return i}spin(){this.currentSymbols=this.nextSymbols,this.nextSymbols=Array.from({length:5},(()=>Array.from({length:3},(()=>o())))),this.onSpinStart(this.nextSymbols),Promise.all(this.reels.map((t=>(t.renderSymbols(this.nextSymbols[t.idx]),t.spin())))).then((()=>this.onSpinEnd(this.nextSymbols)))}onSpinStart(t){document.querySelectorAll("img").forEach((t=>t.className=" ")),this.spinButton.disabled=!0,this.config.onSpinStart?.(t)}onSpinEnd(t){this.spinButton.disabled=!1,this.config.onSpinEnd?.(t),document.querySelectorAll("img").forEach((t=>t.className=" ")),document.querySelectorAll("img").forEach((t=>t.classList.add("animate__animated","animate__flip")))}}(document.getElementById("slot"),c),document.querySelectorAll("img").forEach((t=>t.className=" ")),document.querySelectorAll("img").forEach((t=>t.classList.add("animate__animated","animate__rubberBand","infinite")))})()})();